# Страница Смен - Режим просмотра для тимлидов

## Обновление

Добавлен переключатель режимов просмотра для тимлидов и администраторов на странице смен.

## Новый функционал

### Для операторов (роль: OPERATOR)
- Видят только свои смены (как и раньше)
- Могут начинать и завершать смены
- Полный функционал без изменений

### Для тимлидов и админов (роли: TEAMLEAD, ADMIN)

**Переключатель режимов:**
1. **"Мои смены"** - личные смены тимлида/админа
   - Показывает только собственные смены
   - Можно начать/завершить свою смену
   - Отображается текущая активная смена

2. **"Смены операторов"** - все смены всех операторов
   - Показывает смены всех пользователей системы
   - Нельзя начать/завершить чужие смены
   - В карточках смен отображается информация об операторе (имя и email)
   - Доступен полный фильтр по статусам и поиск

## Отличия режимов

### Режим "Мои смены"
```
┌─────────────────────────────────────┐
│ Мои смены                           │
│ Управление рабочими сменами         │
│                                     │
│ [Активная смена на Binance]        │
│ [Завершить смену] [Новая смена]    │
├─────────────────────────────────────┤
│ [👤 Мои смены] [⏰ Смены операторов]│  ← Переключатель
├─────────────────────────────────────┤
│ Карточки смен БЕЗ имени оператора  │
└─────────────────────────────────────┘
```

### Режим "Смены операторов"
```
┌─────────────────────────────────────┐
│ Мои смены                           │
│ Управление рабочими сменами         │
├─────────────────────────────────────┤
│ [👤 Мои смены] [⏰ Смены операторов]│  ← Переключатель
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 👤 john_operator               │ │
│ │    john@example.com            │ │  ← Информация об операторе
│ │ Platform: Binance              │ │
│ │ Duration: 02:45:30             │ │
│ │ Amount: $1,234.56              │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

## Технические детали

### API запросы

**Режим "Мои смены":**
```typescript
GET /api/shifts/my-shifts  // Получить только мои смены
```

**Режим "Смены операторов":**
```typescript
GET /api/shifts?limit=1000  // Получить все смены всех пользователей
```

### Состояние компонента

```typescript
const [viewMode, setViewMode] = useState<'my' | 'all'>('my');
const isTeamLeadOrAdmin = user?.role === UserRole.TEAMLEAD || user?.role === UserRole.ADMIN;
```

### Условное отображение

```typescript
// Показывать переключатель только для тимлидов/админов
{isTeamLeadOrAdmin && (
  <div className="view-mode-switcher">
    <button onClick={() => setViewMode('my')}>Мои смены</button>
    <button onClick={() => setViewMode('all')}>Смены операторов</button>
  </div>
)}

// Показывать информацию об операторе только в режиме "all"
{viewMode === 'all' && shift.operator && (
  <div className="operator-info">
    {shift.operator.username}
  </div>
)}
```

## Переводы

### Русский (ru.json)
```json
{
  "shifts": {
    "myShifts": "Мои смены",
    "operatorsShifts": "Смены операторов"
  }
}
```

### Английский (en.json)
```json
{
  "shifts": {
    "myShifts": "My Shifts",
    "operatorsShifts": "Operators Shifts"
  }
}
```

## Стили

Добавлены новые классы:

```css
.view-mode-switcher { /* Контейнер переключателя */ }
.view-mode-btn { /* Кнопка режима */ }
.view-mode-btn.active { /* Активная кнопка */ }
.operator-info { /* Информация об операторе */ }
.operator-name { /* Имя оператора */ }
.operator-email { /* Email оператора */ }
```

## Использование

### Для тимлида:

1. Открыть страницу "Смены" (/shifts)
2. По умолчанию открывается режим "Мои смены"
3. Для просмотра смен всех операторов нажать "Смены операторов"
4. Переключаться между режимами по необходимости

### Что видит тимлид в режиме "Смены операторов":

- ✅ Все смены всех операторов
- ✅ Имена и email операторов в карточках
- ✅ Статусы смен (активные/завершённые)
- ✅ Длительность и статистику по каждой смене
- ✅ Фильтры по статусу
- ✅ Поиск по площадке или оператору
- ❌ Кнопки "Начать смену" / "Завершить смену" (только в режиме "Мои смены")

## Преимущества

1. **Разделение ответственности** - тимлид может работать сам и контролировать команду
2. **Удобство** - не нужно переходить на другую страницу для контроля операторов
3. **Гибкость** - быстрое переключение между режимами
4. **Информативность** - чёткое отображение информации об операторах когда нужно
5. **Производительность** - запрос всех смен выполняется только когда нужен

## Совместимость с ТЗ

✅ **Контроль работы операторов** - тимлид видит все смены  
✅ **Просмотр статусов** - активные/завершённые смены  
✅ **Аналитика** - длительность, суммы, количество операций  
✅ **Собственная работа** - тимлид может вести свои смены
